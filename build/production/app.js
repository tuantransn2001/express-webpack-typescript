(()=>{"use strict";var e={142:e=>{e.exports=require("dotenv")}},r={};function o(n){var t=r[n];if(void 0!==t)return t.exports;var s=r[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var n in r)o.o(r,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{const e=require("express");var r=o.n(e);const n=require("http"),t=require("socket.io"),s=require("cors");var c=o.n(s);const i=require("pino");var a=o.n(i);const p=require("dayjs");var u=o.n(p);const v=a()({base:{pid:!1},timestamp:()=>`,"time":"${u()().format()}"`}),d=require("mongoose");var f=o.n(d);const O=(0,e.Router)();o(142).config();const l=process.env.LOCAL_HOST,x=process.env.SERVER_HOST,b=process.env.PORT,m=process.env.DB_CONNECT_LINK,q=process.env.ROOT_URL,R=process.env.ENVIRONMENT,N=r()();N.use(c()()),N.use(r().json());const S=(0,n.createServer)(N),T=new t.Server(S,{cors:{origin:"*",credentials:!0}});N.use(q,O),f().connect(m).then((()=>{S.listen(b,(async()=>{v.info("Database has been connected"),v.info(`ðŸš€ Server is running on ${R} ðŸš€ - http://${"PRODUCTION"===R.toUpperCase()?x:l}:${b}${q}`),function({io:e}){v.info("Sockets enabled"),e.on("connection",(e=>{v.info(`User connected ${e.id}`),e.on("example",(()=>{v.info("example")}))}))}({io:T})}))})).catch((e=>{v.error("Can't connect to database"),v.error(`Error: ${e}`),process.exit()}))})()})();